<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="app-root" content="__WAGSTAFF_APP_ROOT__" />
  <title>Wagstaff WebCraft</title>
  <link rel="stylesheet" href="__WAGSTAFF_APP_ROOT__/static/app/css/base.css" />
  <link rel="stylesheet" href="__WAGSTAFF_APP_ROOT__/static/app/css/craft.css" />
  <script defer src="__WAGSTAFF_APP_ROOT__/static/app/js/app.js"></script>
</head>
<body class="page--craft" data-page="craft">
  <header class="header">
    <div class="topbar">
      <div class="topbar-left">
        <div class="brand">Wagstaff <span class="brand-sub">Field Manual</span></div>
        <div class="nav-links">
          <a id="navCraft" class="nav-link active" href="#">Craft</a>
          <a id="navCooking" class="nav-link" href="#">Cooking</a>
          <a id="navFarming" class="nav-link" href="#">Farming</a>
          <a id="navCatalog" class="nav-link" href="#">Catalog</a>
        </div>
      </div>
      <div class="topbar-right">
        <div class="label-toggle">
          <span class="muted" id="labelModeLabel">Label</span>
          <select id="labelMode">
            <option value="en">EN</option>
            <option value="zh">中文</option>
            <option value="id">ID</option>
          </select>
        </div>
        <div class="meta" id="meta"></div>
      </div>
    </div>
    <div class="subbar">
      <div class="subbar-left">
        <div class="page-title">Craft Atlas</div>
        <div class="page-sub">Recipes and planning tools</div>
      </div>
      <div class="subbar-right">
        <div class="search">
          <input id="q" type="text" placeholder="Search: axe | ing:twigs | tag:bookbuilder | filter:TOOLS | tab:LIGHT" />
          <button id="btnSearch" class="primary">Search</button>
        </div>
      </div>
    </div>
  </header>

  <div class="layout">
    <div class="panel panel--filters">
      <div class="panel-head">
        <div class="panel-title" id="groupTitle">Filters</div>
        <div class="panel-actions">
          <button id="btnToggle" class="btn ghost">Toggle</button>
        </div>
      </div>
      <div class="list" id="groupList"></div>
    </div>

    <div class="panel panel--list" id="listPanel">
      <div class="panel-head">
        <div class="panel-title" id="listTitle">Recipes</div>
        <span class="small muted" id="listCount"></span>
      </div>
      <div class="list" id="recipeList"></div>
    </div>

    <div class="panel panel--primary" id="detailPanel">
      <div class="panel-head">
        <div class="panel-title"><span id="detailTitle">Details</span></div>
        <button class="btn ghost back" id="btnBackList">Back to list</button>
      </div>
      <div class="detail">
        <div id="detail"></div>

        <div class="tool-card">
          <div class="small muted" id="inventoryHelp">Inventory (for missing/planning)</div>
          <textarea id="inv" placeholder="twigs=2, flint=1
rocks=10"></textarea>
          <div class="grid2" style="margin-top:8px;">
            <div>
              <div class="small muted" id="builderTagLabel">builder_tag (optional)</div>
              <input id="builderTag" type="text" placeholder="bookbuilder / handyperson / ..." />
            </div>
            <div style="display:flex; gap:8px; align-items:flex-end;">
              <button id="btnPlan" class="primary" style="flex:1;">Plan</button>
              <button id="btnMissing" style="flex:1;">Missing</button>
            </div>
          </div>
          <div id="planOut" class="small" style="margin-top:8px;"></div>
        </div>

        <div class="err" id="err"></div>
      </div>
    </div>
  </div>
</body>
</html>
